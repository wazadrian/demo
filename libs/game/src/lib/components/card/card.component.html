<div class="card" role="article">
  <img class="card__image" [src]="image()" [alt]="title()" loading="lazy" />
  <div class="card__info">
    <div class="card__title">{{ title() }}</div>
    <div class="card__pricing">
      <span
        class="card__discount"
        *ngIf="discount()"
        [attr.aria-label]="discount() + '% discount'"
      >
        -{{ discount() }}%
      </span>
      @if (isOwned()) {
      <span class="card__owned" [attr.aria-label]="'Already owned'">OWNED</span>
      } @else if (isInCart()) {
      <button
        type="button"
        class="card__in-cart"
        (click)="openCart.emit()"
        [attr.aria-label]="'View cart'"
      >
        IN CART
      </button>
      } @else if (price() > 0) {
      <button
        type="button"
        class="card__buy"
        (click)="addToCart.emit()"
        [attr.aria-label]="'Add ' + title() + ' to cart for $' + price()"
      >
        ${{ price() }}
      </button>
      }
    </div>
  </div>
</div>
